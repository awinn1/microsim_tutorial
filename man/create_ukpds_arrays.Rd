% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_psa.R
\name{create_ukpds_arrays}
\alias{create_ukpds_arrays}
\title{Create UKPDS Coefficient Arrays from Data Frames}
\usage{
create_ukpds_arrays(
  df_ukpds_coef = microsim.tutorial::df_ukpds_coef,
  df_bootstraps = NULL
)
}
\arguments{
\item{df_ukpds_coef}{A data frame containing the base model coefficients, with
a \code{Parameter} column.}

\item{df_bootstraps}{An optional data frame where each row is a bootstrap
replicate. If \code{NULL}, only the base coefficients are used.}
}
\value{
A list containing two 3D arrays:
\describe{
\item{a_coef_ukpds_ind_traits}{An array for the main individual traits,
based on the first bootstrap replicate.}
\item{a_coef_ukpds_other_ind_traits}{An array for lambda, rho, and death,
containing data from all bootstrap replicates.}
}
}
\description{
This function processes a base UKPDS coefficient data frame and an optional
set of bootstrap replicates to produce the 3D arrays needed for simulation.
It handles the creation of arrays with the correct dimensions and populates
them with data from each bootstrap replicate.
}
\details{
The function performs the following steps:
\enumerate{
\item Determines the number of bootstrap replicates from \code{df_bootstraps}.
\item Creates a main 3D array to hold all coefficients for all replicates.
\item Loops through each bootstrap replicate, calling the
\code{update_coef_with_bootstrap} function to get the correct parameters for
that replicate, and populates a "slice" of the 3D array.
\item Splits the main array into two separate arrays as required by the model:
one for the main individual traits and one for other parameters
(lambda, rho, death).
}
}
\seealso{
\code{update_coef_with_bootstrap()}
}
